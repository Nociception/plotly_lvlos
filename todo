# Summary

## Phase 1 — Core data validation & alignment

Validate structure of data_x and data_y CSVs.
Detect or resolve the entity column.
Detect overlapping numerical (temporal) columns.
Perform entity matching and resolution (fuzzy matching + manual override).
Build a validated core analytical table and a parquet generated file.
Missing data for one year result in a null for this year (the point in scatter plot will be invisible)

Output / artefact: core table
entity_id | year | x_value | y_value
France | 1800 | 2080 | 34
France | 1801 | 2080 | 36.4
...
France | 2050 | 76.9k | 92.3
"Micronesia, Fed. Sts." | 1800 | 586 | 26.7
"Micronesia, Fed. Sts." | 1801 | 586 | 26.7
...
"Micronesia, Fed. Sts." | 2050 | 5250 | 72.2

## Phase 2 — Core data enrichment

Attach optional extra datasets (population, gini, etc.).
Report missing entities and missing years (warnings only).
Propagate nulls without invalidating the core.
Validate genericity with an additional CSV collection.

Output / artefact: enriched core table
entity_id | year | x_value | y_value | extra_data_point | extra_data_x

Core table parquet file generated

## Phase 3 — Analytical tables & frame materialization

Exclude rows with missing x_value or y_value from the core table.
Extra columns may be null.
Compute log_x_value for data_x (e.g., GDP).
Negative or zero values → **blocking error**.

Precompute per-year metrics once (linear regression, correlation, dispersion, maybe more ; store how many points were used to calculate).
Years with insufficient points → metrics = null (warnings).

Output / artefact: metric table preview
year | metric_1 | metric_2 | ...

Generate animation frames (plotly.graph_objects.Figure objects): two (lin and log) per valid year.
Each frame contains:
    point coordinates (x_value or log_x_value, y_value)
    point metadata (entity_id, extras)
    precomputed metrics
    derived visual attributes (size, color, opacity)

## Phase 4
Details of the plotly figure : storing all frames, handle animation, graphs, etc...